<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Input Form</title>

    <link rel="stylesheet" href="DynamicInputForm.css">
    

    <!--
    <style>
        #message {
            color: green;
            margin-top: 10px;
        }
    </style>
    <script>
        function copyContent(inputElement) {
            inputElement.select();
            inputElement.setSelectionRange(0, 99999); // For mobile devices
            navigator.clipboard.writeText(inputElement.value)
                .then(() => {
                    displayMessage("Copied: " + inputElement.value);
                })
                .catch(err => {
                    displayMessage("Error in copying text: " + err, true);
                });
        }

        function addFields(button) {
            const container = button.parentNode.parentNode;
            const newGroup = container.firstElementChild.cloneNode(true);
            newGroup.querySelectorAll('input').forEach(input => input.value = '');
            container.appendChild(newGroup);
        }

        function removeFields(button) {
            const group = button.parentNode;
            const container = group.parentNode;
            if (container.children.length > 1) {
                container.removeChild(group);
                displayMessage("Input group removed.");
            } else {
                displayMessage("At least one input group should remain.", true);
            }
        }

        function getPrompt() {
            const groups = document.querySelectorAll('.input-group');
            let combinedText = 'Act as an experienced copywriter you are an expert in writing articles on any topic and you are also an expert in writing articles from anchor text and analysing URLs. Now write an entire article that must consist of the three anchor texts and URL:\n\n';
            groups.forEach(group => {
                const textInput = group.querySelector('input[type="text"]');
                const urlInput = group.querySelector('input[type="url"]');
                combinedText += `The anchor text is "${textInput.value}" and the URL is "${urlInput.value}",\n\n`;
            });
            combinedText += `The article should be based upon a single topic and Must include the above three anchor texts.\n\nYou should use markdown formatting, including bold, UL / OL, H1, H2, H3, H4, and necessary headings.Use proper headings, subheadings, bullet points, etc.Always start with a clickbait H1 heading.The entire article should be between 700 - 800 words.\n`;
            document.querySelector('textarea').value = combinedText.trim();
            displayMessage("Text combined in the textarea.");
        }

        function displayMessage(message, isError = false) {
            const messageElement = document.getElementById('message');
            messageElement.textContent = message;
            messageElement.style.color = isError ? 'red' : 'green';
        }
    </script>
    -->
</head>

<body>
    <h1>Dynamic Input Form</h1>
    <form>
        <div class="input-container">
            <div class="input-group">
                <div class="text-input-section">
                    <input type="text" placeholder="Enter your text here">
                    <button type="button" onclick="copyContent(this.previousElementSibling)">Copy Text</button>
                </div>
                <div class="url-input-section">
                    <input type="url" placeholder="https://example.com">
                    <button type="button" onclick="copyContent(this.previousElementSibling)">Copy URL</button>
                </div>
                
                
                <div class="control-buttons">
                    <button type="button" onclick="addFields(this)">Add</button>
                    <button type="button" onclick="removeFields(this)">Remove</button>
                </div>
            </div>
        </div>

        <!-- <button type="button" onclick="getPrompt()">Get Prompt</button>

        <textarea id="prompt-area" placeholder="Enter your detailed prompt here..."></textarea>

        <button type="button" onclick="copyContent(document.getElementById('prompt-area'))">Copy Prompt</button> -->

        <div class="prompt-actions">
            <button type="button" id="get-prompt" onclick="getPrompt()">Get Prompt</button>
            <span id="prompt-area-msg"></span>
            <textarea id="prompt-area" placeholder="Enter your detailed prompt here..."></textarea>
            <button type="button" id="copy-prompt" onclick="copyContent(document.getElementById('prompt-area'))">Copy Prompt</button>
            <span id="copied-prompt-area-msg"></span>
        </div>

        <div id="message"></div>
    </form>
    
    <script src="DynamicInputForm.js"></script>
</body>

</html>